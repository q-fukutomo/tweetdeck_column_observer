これは何

目的: DJ配信の支援(なうぷれ表示)
環境: Google chrome上で https://tweetdeck.twitter.com/ 開いている時に動きます
内容: なうぷれツイートを検知して、イベント用のハッシュタグとなうぷれ用のハッシュタグを除去したテキストの表示(クロマキー対応)

######################

導入
以下のリンクからvX.X.X.zip(例. v3.0.0.zip )をダウンロード
https://github.com/q-fukutomo/tweetdeck_column_observer/releases 
↓
ダウンロードしたzipファイルを解凍
↓
アドレスバーに chrome://extensions/ を入力して拡張機能の管理画面を開く
↓
https://qiita.com/RyBB/items/32b2a7b879f21b3edefc#chrome%E3%81%B8%E3%81%AE%E9%81%A9%E7%94%A8%E6%96%B9%E6%B3%95 などを参考に、
解凍して出来たフォルダの中の「dist」フォルダを読み込ませる
↓
タグとか色の設定
    deck開いてる場合: アイコンをクリック→設定ボタン→設定ページ
    それ以外の場合: アイコンを右クリック→オプション→設定ページ
    ※設定変更後は一度deckを再読込してください

######################

利用手順
1. chromeでdeck開く
2. なうぷれ用のタグで検索して監視対象の列を表示させる
3. 拡張のアイコンをクリックすると監視開始ボタン出るから押す
4. ウィンドウの右下にイベント用のタグとなうぷれ用のタグを除去したテキストが出てくる
5. 配信用画面を構成するソフトで表示枠を直接捕まえたりクロマキーで文字を抜いたりお好みで

######################

注意
1. 監視を始めてから新しくツイートされたものが検知されます
   => 既にツイートされていたものが監視を始めた瞬間に表示されるわけではありません(今後対応予定)
2. Deckの表示に依存しているのでセンシティブツイートに設定されてて引っかからないケースなどがあります
3. 配信用の画面を想定し、枠からはみ出すレベルのテキスト量を考慮していません。
   => デフォルトでは横30文字ちょっと×縦4行くらいがはみ出さずに表示できますが、調整可能です(カスタマイズの項を参照)

######################

カスタマイズ
設定ページ作成中です、対応しきれていない部分は直接ソース編集からお願いします
ソース編集後は拡張管理画面から拡張の再読込 → deck再読込 → 監視開始で適用されます

設定ページから変更可能なもの
・監視タグを変えたい
・文字色変えたい
・クロマキー用の背景色変えたい

上記以外のデザイン関係のカスタマイズは、dist/css/content.cssを編集します

拡張表示枠の位置を変えたい
→ の #extentionView { 〜 }の中のbottom, rightの値をいじる
※デフォルトではウィンドウと表示枠それぞれの右下の角からの距離が入っていますがtop,leftにすれば左上同士とかにできるので適宜
参考: http://www.htmq.com/style/#hyo

テキストボックスの大きさ変えたい
→ #extentionView { 〜 }の中のwidthとheightで拡張全体の表示領域を調整する
→ #tweetTextBox { 〜 }の中のheightでテキスト表示用の枠の高さを調整する
※横幅は枠いっぱい-余白分(左右10pxずつ)になるので全体幅側から調整するのがいい

テキストボックスのフチと文字の距離調整したい
→ #tweetTextBox { 〜 }の中のpaddingの右辺をいじる、上下左右異なる値も設定できるので必要に応じて
詳細: http://www.htmq.com/style/padding.shtml

文字サイズ変えたい
→ #tweetTextBox { 〜 }の中のfont-sizeの右辺をいじる

フォント変えたい
→ #tweetTextBox { 〜 }の中のfont-familyの右辺の"先頭"に使いたいフォント名を記入
※先頭から順番にそのフォントがPCにインストールされているか判定し、あれば適用/なければ次のフォント名で同様の判定を繰り返します

######################

補足
拡張で表示する要素はhtmlのテンプレートとかはなくてcontent.jsのcreateExtentionView関数の中で作ってます

何かご要望等ございましたら @mgn_shock_pan または @q_fktm までご連絡ください(Twitter)

######################

スペシャルサンクス

以下のサイトより画像素材をお借りしています。
https://icooon-mono.com/
https://materialdesignicons.com/

######################

このソフトウェアは、 Apache 2.0ライセンスで配布されている製作物が含まれています。
https://www.apache.org/licenses/LICENSE-2.0